"use strict";(self.webpackChunkabhishek_portfolio=self.webpackChunkabhishek_portfolio||[]).push([[818],{818:(t,e,i)=>{i.r(e),i.d(e,{default:()=>C});const s=new Uint8Array(4);function r(t){return 0===(t&t-1)}let h=1;class n{constructor(t){let{image:e,target:i=t.TEXTURE_2D,type:s=t.UNSIGNED_BYTE,format:r=t.RGBA,internalFormat:n=r,wrapS:a=t.CLAMP_TO_EDGE,wrapT:o=t.CLAMP_TO_EDGE,wrapR:l=t.CLAMP_TO_EDGE,generateMipmaps:c=i===(t.TEXTURE_2D||t.TEXTURE_CUBE_MAP),minFilter:d=(c?t.NEAREST_MIPMAP_LINEAR:t.LINEAR),magFilter:p=t.LINEAR,premultiplyAlpha:g=!1,unpackAlignment:u=4,flipY:m=i==(t.TEXTURE_2D||t.TEXTURE_3D),anisotropy:f=0,level:v=0,width:w,height:x=w,length:T=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.id=h++,this.image=e,this.target=i,this.type=s,this.format=r,this.internalFormat=n,this.minFilter=d,this.magFilter=p,this.wrapS=a,this.wrapT=o,this.wrapR=l,this.generateMipmaps=c,this.premultiplyAlpha=g,this.unpackAlignment=u,this.flipY=m,this.anisotropy=Math.min(f,this.gl.renderer.parameters.maxAnisotropy),this.level=v,this.width=w,this.height=x,this.length=T,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.wrapR!==this.state.wrapR&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_R,this.wrapR),this.state.wrapR=this.wrapR),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,this.level,this.internalFormat,this.format,this.type,this.image[t]);else if(ArrayBuffer.isView(this.image))this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image):this.target!==this.gl.TEXTURE_2D_ARRAY&&this.target!==this.gl.TEXTURE_3D||this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let t=0;t<this.image.length;t++)this.gl.compressedTexImage2D(this.target,t,this.internalFormat,this.image[t].width,this.image[t].height,0,this.image[t].data);else this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);this.generateMipmaps&&(this.gl.renderer.isWebgl2||r(this.image.width)&&r(this.image.height)?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s);else this.width?this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s);this.store.image=this.image}}}var a=i(584);class o extends a.V{constructor(t){let{width:e=1,height:i=1,widthSegments:s=1,heightSegments:r=1,attributes:h={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=s,a=r,l=(n+1)*(a+1),c=n*a*6,d=new Float32Array(3*l),p=new Float32Array(3*l),g=new Float32Array(2*l),u=c>65536?new Uint32Array(c):new Uint16Array(c);o.buildPlane(d,p,g,u,e,i,0,n,a),Object.assign(h,{position:{size:3,data:d},normal:{size:3,data:p},uv:{size:2,data:g},index:{data:u}}),super(t,h)}static buildPlane(t,e,i,s,r,h,n,a,o){let l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:2,p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,g=arguments.length>13&&void 0!==arguments[13]?arguments[13]:-1,u=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,m=arguments.length>15&&void 0!==arguments[15]?arguments[15]:0;const f=u,v=r/a,w=h/o;for(let x=0;x<=o;x++){let T=x*w-h/2;for(let h=0;h<=a;h++,u++){let w=h*v-r/2;if(t[3*u+l]=w*p,t[3*u+c]=T*g,t[3*u+d]=n/2,e[3*u+l]=0,e[3*u+c]=0,e[3*u+d]=n>=0?1:-1,i[2*u]=h/a,i[2*u+1]=1-x/o,x===o||h===a)continue;let y=f+h+x*(a+1),E=f+h+(x+1)*(a+1),b=f+h+(x+1)*(a+1)+1,M=f+h+x*(a+1)+1;s[6*m]=y,s[6*m+1]=E,s[6*m+2]=M,s[6*m+3]=E,s[6*m+4]=b,s[6*m+5]=M,m++}}}}var l=i(150),c=i(817),d=i(755),p=i(500),g=i(967),u=i(128);const m=new g.$,f=new u.e,v=new u.e;class w extends p.d{constructor(t){let{near:e=.1,far:i=100,fov:s=45,aspect:r=1,left:h,right:n,bottom:a,top:o,zoom:l=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,{near:e,far:i,fov:s,aspect:r,left:h,right:n,bottom:a,top:o,zoom:l}),this.projectionMatrix=new g.$,this.viewMatrix=new g.$,this.projectionViewMatrix=new g.$,this.worldPosition=new u.e,this.type=h||n?"orthographic":"perspective","orthographic"===this.type?this.orthographic():this.perspective()}perspective(){let{near:t=this.near,far:e=this.far,fov:i=this.fov,aspect:s=this.aspect}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this,{near:t,far:e,fov:i,aspect:s}),this.projectionMatrix.fromPerspective({fov:i*(Math.PI/180),aspect:s,near:t,far:e}),this.type="perspective",this}orthographic(){let{near:t=this.near,far:e=this.far,left:i=this.left||-1,right:s=this.right||1,bottom:r=this.bottom||-1,top:h=this.top||1,zoom:n=this.zoom}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this,{near:t,far:e,left:i,right:s,bottom:r,top:h,zoom:n}),i/=n,s/=n,r/=n,h/=n,this.projectionMatrix.fromOrthogonal({left:i,right:s,bottom:r,top:h,near:t,far:e}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}updateProjectionMatrix(){return"perspective"===this.type?this.perspective():this.orthographic()}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(m.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new u.e,new u.e,new u.e,new u.e,new u.e,new u.e]);const t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let e=0;e<6;e++){const t=1/this.frustum[e].distance();this.frustum[e].multiply(t),this.frustum[e].constant*=t}}frustumIntersectsMesh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.worldMatrix;if(!t.geometry.attributes.position)return!0;if(t.geometry.bounds&&t.geometry.bounds.radius!==1/0||t.geometry.computeBoundingSphere(),!t.geometry.bounds)return!0;const i=f;i.copy(t.geometry.bounds.center),i.applyMatrix4(e);const s=t.geometry.bounds.radius*e.getMaxScaleOnAxis();return this.frustumIntersectsSphere(i,s)}frustumIntersectsSphere(t,e){const i=v;for(let s=0;s<6;s++){const r=this.frustum[s];if(i.copy(r).dot(t)+r.constant<-e)return!1}return!0}}var x=i(43),T=i(579);class y{constructor(t){let{gl:e,plane:i,renderer:s,text:r,textColor:h="#545050",font:n="30px sans-serif"}=t;!function(t){const e=Object.getPrototypeOf(t);Object.getOwnPropertyNames(e).forEach(e=>{"constructor"!==e&&"function"===typeof t[e]&&(t[e]=t[e].bind(t))})}(this),this.gl=e,this.plane=i,this.renderer=s,this.text=r,this.textColor=h,this.font=n,this.createMesh()}createMesh(){try{const{texture:t,width:e,height:i}=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bold 30px monospace",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"black";const r=document.createElement("canvas"),h=r.getContext("2d");h.font=i;const a=h.measureText(e),o=Math.ceil(a.width),l=Math.ceil(1.2*parseInt(i,10));r.width=o+20,r.height=l+20,h.font=i,h.fillStyle=s,h.textBaseline="middle",h.textAlign="center",h.clearRect(0,0,r.width,r.height),h.fillText(e,r.width/2,r.height/2);const c=new n(t,{generateMipmaps:!1});return c.image=r,{texture:c,width:r.width,height:r.height}}(this.gl,this.text,this.font,this.textColor),s=new o(this.gl),r=new l.B(this.gl,{vertex:"\n          attribute vec3 position;\n          attribute vec2 uv;\n          uniform mat4 modelViewMatrix;\n          uniform mat4 projectionMatrix;\n          varying vec2 vUv;\n          void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n          }\n        ",fragment:"\n          precision highp float;\n          uniform sampler2D tMap;\n          varying vec2 vUv;\n          void main() {\n            vec4 color = texture2D(tMap, vUv);\n            if (color.a < 0.1) discard;\n            gl_FragColor = color;\n          }\n        ",uniforms:{tMap:{value:t}},transparent:!0});this.mesh=new c.e(this.gl,{geometry:s,program:r});const h=e/i,a=.15*this.plane.scale.y,d=a*h;this.mesh.scale.set(d,a,1),this.mesh.position.y=.5*-this.plane.scale.y-.5*a-.05,this.mesh.setParent(this.plane)}catch(t){console.warn("Failed to create title mesh:",t)}}}class E{constructor(t){let{geometry:e,gl:i,image:s,index:r,length:h,renderer:n,scene:a,screen:o,text:l,viewport:c,bend:d,textColor:p,borderRadius:g=0,font:u,onCertificateClick:m}=t;this.extra=0,this.geometry=e,this.gl=i,this.image=s,this.index=r,this.length=h,this.renderer=n,this.scene=a,this.screen=o,this.text=l,this.viewport=c,this.bend=d,this.textColor=p,this.borderRadius=g,this.font=u,this.onCertificateClick=m,this.createShader(),this.createMesh(),this.createTitle(),this.onResize()}createShader(){try{const t=new n(this.gl,{generateMipmaps:!1});this.program=new l.B(this.gl,{depthTest:!1,depthWrite:!1,vertex:"\n          precision highp float;\n          attribute vec3 position;\n          attribute vec2 uv;\n          uniform mat4 modelViewMatrix;\n          uniform mat4 projectionMatrix;\n          uniform float uTime;\n          uniform float uSpeed;\n          varying vec2 vUv;\n          void main() {\n            vUv = uv;\n            vec3 p = position;\n            p.z = (sin(p.x * 4.0 + uTime) * 1.5 + cos(p.y * 2.0 + uTime) * 1.5) * (0.1 + uSpeed * 0.5);\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(p, 1.0);\n          }\n        ",fragment:"\n          precision highp float;\n          uniform vec2 uImageSizes;\n          uniform vec2 uPlaneSizes;\n          uniform sampler2D tMap;\n          uniform float uBorderRadius;\n          varying vec2 vUv;\n          \n          float roundedBoxSDF(vec2 p, vec2 b, float r) {\n            vec2 d = abs(p) - b;\n            return length(max(d, vec2(0.0))) + min(max(d.x, d.y), 0.0) - r;\n          }\n          \n          void main() {\n            vec2 ratio = vec2(\n              min((uPlaneSizes.x / uPlaneSizes.y) / (uImageSizes.x / uImageSizes.y), 1.0),\n              min((uPlaneSizes.y / uPlaneSizes.x) / (uImageSizes.y / uImageSizes.x), 1.0)\n            );\n            vec2 uv = vec2(\n              vUv.x * ratio.x + (1.0 - ratio.x) * 0.5,\n              vUv.y * ratio.y + (1.0 - ratio.y) * 0.5\n            );\n            vec4 color = texture2D(tMap, uv);\n            \n            float d = roundedBoxSDF(vUv - 0.5, vec2(0.5 - uBorderRadius), uBorderRadius);\n            if(d > 0.0) {\n              discard;\n            }\n            \n            gl_FragColor = vec4(color.rgb, 1.0);\n          }\n        ",uniforms:{tMap:{value:t},uPlaneSizes:{value:[0,0]},uImageSizes:{value:[0,0]},uSpeed:{value:0},uTime:{value:100*Math.random()},uBorderRadius:{value:this.borderRadius}},transparent:!0});const e=new Image;e.crossOrigin="anonymous",e.src=this.image,e.onload=()=>{t.image=e,this.program.uniforms.uImageSizes.value=[e.naturalWidth,e.naturalHeight]},e.onerror=t=>{console.warn("Failed to load image:",this.image,t)}}catch(t){console.warn("Failed to create shader for media:",t)}}createMesh(){try{this.plane=new c.e(this.gl,{geometry:this.geometry,program:this.program}),this.plane.setParent(this.scene),this.plane.userData={image:this.image,text:this.text,index:this.index}}catch(t){console.warn("Failed to create mesh:",t)}}createTitle(){try{this.title=new y({gl:this.gl,plane:this.plane,renderer:this.renderer,text:this.text,textColor:this.textColor,font:this.font})}catch(t){console.warn("Failed to create title:",t)}}update(t,e){if(!this.plane)return;this.plane.position.x=this.x-t.current-this.extra;const i=this.plane.position.x,s=this.viewport.width/2;if(0===this.bend)this.plane.position.y=0,this.plane.rotation.z=0;else{const t=Math.abs(this.bend),e=(s*s+t*t)/(2*t),r=Math.min(Math.abs(i),s),h=e-Math.sqrt(e*e-r*r);this.bend>0?(this.plane.position.y=-h,this.plane.rotation.z=-Math.sign(i)*Math.asin(r/e)):(this.plane.position.y=h,this.plane.rotation.z=Math.sign(i)*Math.asin(r/e))}this.speed=t.current-t.last,this.program&&this.program.uniforms&&(this.program.uniforms.uTime.value+=.04,this.program.uniforms.uSpeed.value=this.speed);const r=this.plane.scale.x/2,h=this.viewport.width/2;this.isBefore=this.plane.position.x+r<-h,this.isAfter=this.plane.position.x-r>h,"right"===e&&this.isBefore&&(this.extra-=this.widthTotal,this.isBefore=this.isAfter=!1),"left"===e&&this.isAfter&&(this.extra+=this.widthTotal,this.isBefore=this.isAfter=!1)}onResize(){let{screen:t,viewport:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&(this.screen=t),e&&(this.viewport=e,this.plane&&this.plane.program&&this.plane.program.uniforms.uViewportSizes&&(this.plane.program.uniforms.uViewportSizes.value=[this.viewport.width,this.viewport.height])),this.scale=this.screen.height/1200;if(this.plane){this.plane.scale.x=this.viewport.width*(900*this.scale)/this.screen.width,this.plane.scale.y=this.viewport.height*(600*this.scale)/this.screen.height;const t=1.5;this.plane.scale.x/this.plane.scale.y<t?this.plane.scale.y=this.plane.scale.x/t:this.plane.scale.x=this.plane.scale.y*t,this.plane.program&&this.plane.program.uniforms.uPlaneSizes&&(this.plane.program.uniforms.uPlaneSizes.value=[this.plane.scale.x,this.plane.scale.y])}this.padding=2,this.width=(this.plane?this.plane.scale.x:0)+this.padding,this.widthTotal=this.width*this.length,this.x=this.width*this.index}}class b{constructor(t){let{items:e,bend:i,textColor:s="#ffffff",borderRadius:r=0,font:h="bold 30px Figtree",scrollSpeed:n=2,scrollEase:a=.05,onCertificateClick:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){this.container=t,this.scrollSpeed=n,this.scroll={ease:a,current:0,target:0,last:0},this.onCheckDebounce=function(t,e){let i;return function(){for(var s=arguments.length,r=new Array(s),h=0;h<s;h++)r[h]=arguments[h];clearTimeout(i),i=setTimeout(()=>t.apply(this,r),e)}}(this.onCheck.bind(this),200),this.onCertificateClick=o;try{this.createRenderer(),this.createCamera(),this.createScene(),this.onResize(),this.createGeometry(),this.createMedias(e,i,s,r,h),this.update(),this.addEventListeners()}catch(l){console.error("Failed to initialize CircularGallery:",l)}}else console.error("Container is required for CircularGallery")}createRenderer(){try{this.renderer=new d.A({alpha:!0}),this.gl=this.renderer.gl,this.gl.clearColor(0,0,0,0),this.container.appendChild(this.gl.canvas),this.gl.canvas.style.cursor="pointer"}catch(t){throw console.error("Failed to create renderer:",t),t}}createCamera(){this.camera=new w(this.gl),this.camera.fov=40,this.camera.position.z=18}createScene(){this.scene=new p.d}createGeometry(){try{this.planeGeometry=new o(this.gl,{heightSegments:50,widthSegments:100})}catch(t){console.error("Failed to create geometry:",t)}}createMedias(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;const h=[{image:"https://picsum.photos/900/600?grayscale&random=1",text:"Certificate 1"},{image:"https://picsum.photos/900/600?grayscale&random=2",text:"Certificate 2"},{image:"https://picsum.photos/900/600?grayscale&random=3",text:"Certificate 3"},{image:"https://picsum.photos/900/600?grayscale&random=4",text:"Certificate 4"}],n=t&&t.length?t:h;this.mediasImages=n.concat(n);try{this.medias=this.mediasImages.map((t,h)=>new E({geometry:this.planeGeometry,gl:this.gl,image:t.image,index:h,length:this.mediasImages.length,renderer:this.renderer,scene:this.scene,screen:this.screen,text:t.text,viewport:this.viewport,bend:e,textColor:i,borderRadius:s,font:r,onCertificateClick:this.onCertificateClick}))}catch(a){console.error("Failed to create medias:",a)}}onCanvasClick(t){if(!this.medias||!this.onCertificateClick)return;const e=this.gl.canvas.getBoundingClientRect(),i=(t.clientX-e.left)/e.width*2-1,s=-(t.clientY-e.top)/e.height*2+1;this.medias.forEach(t=>{if(!t.plane)return;const e=t.plane.position.x,r=t.plane.position.y,h=e/this.viewport.width*2,n=r/this.viewport.height*2;Math.sqrt((i-h)**2+(s-n)**2)<.5&&this.onCertificateClick({image:t.image,text:t.text,index:t.index})})}onTouchDown(t){this.isDown=!0,this.scroll.position=this.scroll.current,this.start=t.touches?t.touches[0].clientX:t.clientX,this.dragDistance=0}onTouchMove(t){if(!this.isDown)return;const e=t.touches?t.touches[0].clientX:t.clientX,i=(this.start-e)*(.025*this.scrollSpeed);this.dragDistance=Math.abs(i),this.scroll.target=this.scroll.position+i}onTouchUp(t){this.isDown=!1,this.dragDistance<10&&this.onCanvasClick(t),this.onCheck()}onWheel(t){const e=t.deltaY||t.wheelDelta||t.detail;this.scroll.target+=.2*(e>0?this.scrollSpeed:-this.scrollSpeed),this.onCheckDebounce()}onCheck(){if(!this.medias||!this.medias[0])return;const t=this.medias[0].width,e=t*Math.round(Math.abs(this.scroll.target)/t);this.scroll.target=this.scroll.target<0?-e:e}onResize(){if(!this.container)return;this.screen={width:this.container.clientWidth,height:this.container.clientHeight},this.renderer&&this.renderer.setSize(this.screen.width,this.screen.height),this.camera&&this.camera.perspective({aspect:this.screen.width/this.screen.height});const t=this.camera.fov*Math.PI/180,e=2*Math.tan(t/2)*this.camera.position.z,i=e*this.camera.aspect;this.viewport={width:i,height:e},this.medias&&this.medias.forEach(t=>t.onResize({screen:this.screen,viewport:this.viewport}))}update(){if(!this.renderer||!this.scene||!this.camera)return;var t,e,i;this.scroll.current=(t=this.scroll.current,e=this.scroll.target,i=this.scroll.ease,t+(e-t)*i);const s=this.scroll.current>this.scroll.last?"right":"left";this.medias&&this.medias.forEach(t=>t.update(this.scroll,s));try{this.renderer.render({scene:this.scene,camera:this.camera})}catch(r){console.warn("Render error:",r)}this.scroll.last=this.scroll.current,this.raf=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){this.boundOnResize=this.onResize.bind(this),this.boundOnWheel=this.onWheel.bind(this),this.boundOnTouchDown=this.onTouchDown.bind(this),this.boundOnTouchMove=this.onTouchMove.bind(this),this.boundOnTouchUp=this.onTouchUp.bind(this),this.boundOnCanvasClick=this.onCanvasClick.bind(this),window.addEventListener("resize",this.boundOnResize),window.addEventListener("mousewheel",this.boundOnWheel),window.addEventListener("wheel",this.boundOnWheel),window.addEventListener("mousedown",this.boundOnTouchDown),window.addEventListener("mousemove",this.boundOnTouchMove),window.addEventListener("mouseup",this.boundOnTouchUp),window.addEventListener("touchstart",this.boundOnTouchDown),window.addEventListener("touchmove",this.boundOnTouchMove),window.addEventListener("touchend",this.boundOnTouchUp)}destroy(){this.raf&&window.cancelAnimationFrame(this.raf),this.boundOnResize&&window.removeEventListener("resize",this.boundOnResize),this.boundOnWheel&&(window.removeEventListener("mousewheel",this.boundOnWheel),window.removeEventListener("wheel",this.boundOnWheel)),this.boundOnTouchDown&&window.removeEventListener("mousedown",this.boundOnTouchDown),this.boundOnTouchMove&&window.removeEventListener("mousemove",this.boundOnTouchMove),this.boundOnTouchUp&&window.removeEventListener("mouseup",this.boundOnTouchUp),this.boundOnTouchDown&&window.removeEventListener("touchstart",this.boundOnTouchDown),this.boundOnTouchMove&&window.removeEventListener("touchmove",this.boundOnTouchMove),this.boundOnTouchUp&&window.removeEventListener("touchend",this.boundOnTouchUp),this.renderer&&this.renderer.gl&&this.renderer.gl.canvas&&this.renderer.gl.canvas.parentNode&&this.renderer.gl.canvas.parentNode.removeChild(this.renderer.gl.canvas)}}const M=t=>{let{certificate:e,onClose:i}=t;return e?(0,T.jsx)("div",{className:"certificate-modal-overlay",onClick:i,children:(0,T.jsxs)("div",{className:"certificate-modal-content",onClick:t=>t.stopPropagation(),children:[(0,T.jsx)("button",{className:"certificate-modal-close",onClick:i,children:"\xd7"}),(0,T.jsx)("div",{className:"certificate-modal-image-container",children:(0,T.jsx)("img",{src:e.image,alt:e.text,className:"certificate-modal-image"})}),(0,T.jsx)("div",{className:"certificate-modal-info",children:(0,T.jsx)("h3",{children:e.text})})]})}):null};function C(t){let{items:e,bend:i=3,textColor:s="#ffffff",borderRadius:r=.05,font:h="bold 24px Figtree",scrollSpeed:n=2,scrollEase:a=.05}=t;const o=(0,x.useRef)(null),l=(0,x.useRef)(null),[c,d]=(0,x.useState)(null),p=(0,x.useCallback)(t=>{d(t)},[]),g=(0,x.useCallback)(()=>{d(null)},[]),u=(0,x.useCallback)(()=>{if(o.current&&!l.current)try{l.current=new b(o.current,{items:e,bend:i,textColor:s,borderRadius:r,font:h,scrollSpeed:n,scrollEase:a,onCertificateClick:p})}catch(t){console.error("Failed to initialize CircularGallery app:",t)}},[e,i,s,r,h,n,a,p]),m=(0,x.useCallback)(()=>{l.current&&(l.current.destroy(),l.current=null)},[]);return(0,x.useEffect)(()=>{const t=setTimeout(u,100);return()=>{clearTimeout(t),m()}},[u,m]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"circular-gallery",ref:o,style:{width:"100%",height:"300px"}}),(0,T.jsx)(M,{certificate:c,onClose:g})]})}}}]);
//# sourceMappingURL=818.a7ea9b23.chunk.js.map